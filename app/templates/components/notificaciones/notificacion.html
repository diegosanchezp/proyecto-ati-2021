{# Requiere como contexto la constante TipoNotificaciones #}
{% macro render_notificacion(notificacion) -%}

<div class="border border-2 rounded mt-2">
  <div class="d-flex flex-row p-2 gap-2">

    <img id="notificacion-profile-icon"
         class="notificacion-profile-icon border border-2 rounded-circle align-self-center"
         src="{{ url_for('static', filename='node_modules/bootstrap-icons/icons/person-circle.svg')}}"
         alt="icono de perfil">

    <p class="font-weight-bold name w-75 publicacion-profile-name m-0">
      {{ notificacion.descripcion }}
    </p>

    <div id="notificacion-actions" class="d-flex flex-row gap-2 justify-content-end w-25">
      {% if notificacion.tipo == TipoNotificaciones.AMIGO_CONECTADO %}
      <a href="{{ url_for('usuario_blueprint.ver_perfil')}}"
         class="btn btn-dark ms-auto align-self-center"
         role="button">{{_("Ver Perfil")}}</a>
      {% endif %}

      {% if notificacion.tipo == TipoNotificaciones.COMENTARIO %}
      <a href="{{ url_for('mural_blueprint.publicaciones')}}"
         class="btn btn-dark ms-auto align-self-center"
         role="button">{{_("Ver publicacion")}}</a>
      {% endif %}

      {% if notificacion.tipo == TipoNotificaciones.MENSAJE_CHAT %}
      <a href="{{ url_for('chat_blueprint.index')}}" 
         class="btn btn-dark ms-auto align-self-center"
         role="button">{{_("Ver chat")}}</a>
      {% endif %}
      
      <form action="" method="POST" class="d-flex flex-column justify-content-center">
        <input type="hidden" name="id_notificacion" value="{{ notificacion.id }}">
        <button name="action_event" value="{{ NotiEvento.LEER.value }}" class="btn btn-dark" type="submit">
          Marcar como leida
        </button>
      </form>

    </div>
  </div>
</div>
{%- endmacro %}
